!function(e,r){"use strict";"function"==typeof define&&define.amd?define(["../globalize-runtime"],r):"object"==typeof exports?module.exports=r(require("../globalize-runtime")):r(e.Globalize)}(this,function(t){var r=t._createError,n=(t._regexpEscape,t._runtimeKey),k=t._stringPad,u=t._validateParameterType,a=t._validateParameterPresence,i=t._validateParameterTypeString,B=function(e){return r("E_UNSUPPORTED","Unsupported {feature}.",{feature:e})},o=function(e,r){u(e,r,void 0===e||"number"==typeof e,"Number")},w=/^([^0]*)(0+)([^0]*)$/,O=function(e,r,t){var n;return n=Math.ceil(Math.log(Math.abs(e))/Math.log(10)),t(e,{exponent:n-=r})},T=function(e){return e[0]+e[e.length-1]!=="''"?e:"''"===e?"":e.replace(/''/g,"'").slice(1,-1)},f=function(e,r,t){var n,u,a,i,o,f,l,c,s,p,m,g,b,v,F,h,N,x,d,E,_,D,P,y,S,A,M,C,j;return r[1],f=r[2],o=r[3],a=r[4],l=r[5],i=r[6],F=r[7],m=r[8],h=r[9],v=r[15],u=r[16],c=r[17],x=r[18],s=r[19],n=r[20],isNaN(e)?c:(N=e<0?(g=r[12],p=r[13],r[14]):(g=r[11],p=r[0],r[10]),isFinite(e)?(-1!==g.indexOf("%")?e*=100:-1!==g.indexOf("‰")&&(e*=1e3),n&&(D=Math.abs(Math.floor(e)).toString().length-1,3<=(D=Math.min(D,n.maxExponent))&&(d=n[D]&&n[D].other),"0"===d?d=null:d&&(_=D-(d.split("0").length-1-1),e/=Math.pow(10,_))),e=isNaN(l*i)?(y=e,S=f,A=o,C=v,j=F,y=(M=a)?C(y,j||{exponent:-M}):C(y),y=String(y),M&&/e-/.test(y)&&(y=(+y).toFixed(M).replace(/0+$/,"").replace(/\.$/,"")),A&&((y=y.split("."))[1]=k(y[1]||"",A,!0),y=y.join(".")),S&&((y=y.split("."))[0]=k(y[0],S),y=y.join(".")),y):function(e,r,t,n){var u,a;if(t<r&&(t=r),e=(+(e=+(u=O(e,r,n))==+(a=O(e,t,n))?u:a)).toString(10),/e/.test(e))throw B({feature:"integers out of (1e21, 1e-7)"});return 0<r-e.replace(/^0+|\./g,"").length&&((e=e.split("."))[1]=k(e[1]||"",r-e[0].replace(/^0+/,"").length,!0),e=e.join(".")),e}(e,l,i,v),n&&d&&(P=t?t(+e):"other",p+=(E=(d=n[D][P]||d).match(w))[1],N=E[3]+N),e=e.replace(/^-/,""),m&&(e=function(e,r,t){var n,u=r,a="",i=!!t;for(n=(e=String(e).split("."))[0].length;u<n;)a=e[0].slice(n-u,n)+(a.length?",":"")+a,n-=u,i&&(u=t,i=!1);return e[0]=e[0].slice(0,n)+(a.length?",":"")+a,e.join(".")}(e,m,h)),b=p,b+=e,(b+=N).replace(/('([^']|'')+'|'')|./g,function(e,r){return r?T(r):(e=e.replace(/[.,\-+E%\u2030]/,function(e){return x[e]}),s&&(e=e.replace(/[0-9]/,function(e){return s[+e]})),e)})):p+u+N)},l=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/g,c=/[\-\u058A\u05BE\u1400\u1806\u2010-\u2015\u2E17\u2E1A\u2E3A\u2E3B\u2E40\u301C\u3030\u30A0\uFE31\uFE32\uFE58\uFE63\uFF0D\u2212]/g,s=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/g,p=function(e){return e.replace(l,"").replace(c,"-").replace(s," ")},m=function(e,r){var t,n,u,a,i,o,f,l,c,s;return t=[["nan"],["prefix","infinity","suffix"],["prefix","number","suffix"],["negativePrefix","infinity","negativeSuffix"],["negativePrefix","number","negativeSuffix"]],u=r[0],n=r[1]||{},c=r[2],e=p(e),s=e,!t.some(function(e){var t=s;return e.every(function(e){return null!==t.match(c[e])&&(t=t.replace(c[e],(r=e,function(e){switch(e=e.split("").map(function(e){return u[e]||n[e]||e}).join(""),r){case"infinity":i=1/0;break;case"nan":i=NaN;break;case"number":e=e.replace(/,/g,""),i=+e;break;case"prefix":case"negativePrefix":o=e;break;case"suffix":l=e;break;case"negativeSuffix":l=e,a=!0;break;default:throw new Error("Internal error")}return""})),!0);var r})&&!t.length})||isNaN(i)?NaN:(-1!==(f=""+o+l).indexOf("%")?i/=100:-1!==f.indexOf("‰")&&(i/=1e3),a&&(i*=-1),i)},e=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)};return t._createErrorUnsupportedFeature=B,t._looseMatching=p,t._numberFormat=f,t._numberFormatterFn=function(r,t){return function(e){return a(e,"value"),o(e,"value"),f(e,r,t)}},t._numberParse=m,t._numberParserFn=function(r){return function(e){return a(e,"value"),i(e,"value"),m(e,r)}},t._numberRound=function(u){return u="truncate"===(u=u||"round")?e:Math[u],function(e,r){var t,n;if(e=+e,isNaN(e))return NaN;if("object"==typeof r&&r.exponent){if(n=1,0==(t=+r.exponent))return u(e);if("number"!=typeof t||t%1!=0)return NaN}else{if(1===(n=+r||1))return u(e);if(isNaN(n))return NaN;t=+(n=n.toExponential().split("e"))[1],n=+n[0]}return(e=e.toString().split("e"))[0]=+e[0]/n,e[1]=e[1]?+e[1]-t:-t,(e=(e=u(+(e[0]+"e"+e[1]))).toString().split("e"))[0]=+e[0]*n,e[1]=e[1]?+e[1]+t:t,+(e[0]+"e"+e[1])}},t._removeLiteralQuotes=T,t._validateParameterPresence=a,t._validateParameterTypeNumber=o,t._validateParameterTypeString=i,t.numberFormatter=t.prototype.numberFormatter=function(e){return e=e||{},r=n("numberFormatter",this._locale,[e]),t[r].runtimeKey=r,t[r];var r},t.numberParser=t.prototype.numberParser=function(e){return e=e||{},t[n("numberParser",this._locale,[e])]},t.formatNumber=t.prototype.formatNumber=function(e,r){return a(e,"value"),o(e,"value"),this.numberFormatter(r)(e)},t.parseNumber=t.prototype.parseNumber=function(e,r){return a(e,"value"),i(e,"value"),this.numberParser(r)(e)},t});